{% extends "base.html" %}
{% block title %}æ°—åœ§ã‚½ãƒ ãƒªã‚¨{% endblock %}

{% block content %}

<div class="page-container">

  <!-- ========================= -->
  <!-- ğŸ» ä»Šå¤œã®é£²é…’ãƒ’ãƒ¼ãƒ­ãƒ¼ -->
  <!-- ========================= -->
  <div class="dashboard-card-modern"
       style="margin-top:40px; background:#f8fafc;">

    <h2 style="text-align:center; margin-bottom:20px;">
      ğŸ» ä»Šå¤œã€é£²ã‚ãã†ï¼Ÿ
    </h2>

    <div id="drinkList">
      <!-- JSã§å‹•çš„ç”Ÿæˆ -->
    </div>

  </div>

  <!-- ========================= -->
  <!-- ä»Šæ—¥ã®æ°—åœ§ -->
  <!-- ========================= -->
  <div class="top-center" style="margin-top:40px;">

    <div class="sub-title" style="font-size:20px;">
      ä»Šæ—¥ã®æ°—åœ§
    </div>

    <div id="riskBadge"
         class="risk-pill"
         style="margin-top:16px; font-size:18px;">
      ---
    </div>

  </div>

  <!-- ========================= -->
  <!-- æ°—åœ§è©³ç´°ã‚«ãƒ¼ãƒ‰ -->
  <!-- ========================= -->
  <div class="dashboard-card-modern" style="margin-top:30px;">

    <div class="current-center">
      <div class="label">ç¾åœ¨ã®æ°—åœ§</div>

      <div class="big-value">
        <span id="currentText">--</span> hPa
      </div>

      <div class="update-time">
        æ›´æ–°ï¼š<span id="currentTimeText">--</span>
      </div>
    </div>

    <div id="dangerText"
         class="danger-text"
         style="margin-top:12px; text-align:center;">
    </div>

    <div class="chart-wrapper" style="margin-top:20px;">
      <canvas id="pressureChart"></canvas>
    </div>

  </div>

</div>

{% endblock %}

{% block extra_js %}

<script>
  const preferredDrinks = {{ preferred|tojson }};
</script>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@3"></script>
<script src="{{ url_for('static', filename='js/pressure.js') }}"></script>

{% endblock %}